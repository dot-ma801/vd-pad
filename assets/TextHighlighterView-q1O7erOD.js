import{c as A,d as w,a,F as V,r as N,n as B,t as M,b as D,o as r,_ as f,e as $,u as G,f as g,g as c,h as C,i as L,j as z,k as O,l as j,w as W,m as _,p as q,v as R,q as P,s as Y,x as Q}from"./index-CeS56rLG.js";/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=A("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=A("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=A("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=A("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=A("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=A("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=A("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),le={class:"highlighted-text"},re=w({__name:"HighlightedText",props:{parts:{type:Array,required:!0}},setup(u){return(n,s)=>(r(),a("div",le,[(r(!0),a(V,null,N(u.parts,(e,t)=>(r(),a(V,{key:t},[e.color?(r(),a("span",{key:0,style:B({color:e.color,fontWeight:"bold"})},M(e.text),5)):(r(),a(V,{key:1},[D(M(e.text),1)],64))],64))),128))]))}}),ce=f(re,[["__scopeId","data-v-dfbbde51"]]),K=["#7ED321","#A076F9","#F5A623","#F778A1","#3399BB"],ae=u=>$(()=>{const e=u.value;if(!/^#[0-9a-fA-F]{6}$/.test(e))return"#000000";const t=parseInt(e.slice(1,3),16),l=parseInt(e.slice(3,5),16),o=parseInt(e.slice(5,7),16);return .2126*t+.7152*l+.0722*o>128?"#000000":"#FFFFFF"}),ie={class:"color-selector-container"},de=["onClick"],ue=["value"],pe=w({__name:"ColorSelector",props:{modelValue:{}},emits:["update:modelValue"],setup(u,{emit:n}){const s=u,e=n;G();const t=g(null),l=$(()=>!K.includes(s.modelValue)),o=$(()=>l.value?s.modelValue:"#ffffff"),i=ae(o),d=$(()=>l.value?i.value:"#000"),x=p=>{e("update:modelValue",p)},h=()=>{t.value?.click()},m=p=>{const b=p.target;e("update:modelValue",b.value)};return(p,b)=>(r(),a("div",ie,[(r(!0),a(V,null,N(C(K),v=>(r(),a("div",{key:v,class:L(["color-marker",{"is-active":p.modelValue===v}]),style:B({backgroundColor:v}),onClick:H=>x(v)},[p.modelValue===v?(r(),z(C(Z),{key:0,size:16,color:"#FFF"})):O("",!0)],14,de))),128)),c("div",{class:L(["color-marker custom-color-marker",{"is-active":l.value}]),style:B({backgroundColor:o.value}),onClick:h},[(r(),z(C(oe),{key:d.value,size:20,color:d.value},null,8,["color"])),c("input",{ref_key:"colorInput",ref:t,type:"color",value:o.value,class:"color-input",onChange:m},null,40,ue)],6)]))}}),_e=f(pe,[["__scopeId","data-v-78ad8449"]]),me={};function he(u,n){return r(),a("button",null,[j(u.$slots,"default",{},void 0)])}const X=f(me,[["render",he],["__scopeId","data-v-3bf645ae"]]),ve={class:"input-area"},ke=w({__name:"WordColorForm",emits:["add"],setup(u,{emit:n}){const s=g(""),e=g(K[0]),t=n,l=()=>{const o=s.value.trim();o&&(t("add",{word:o,color:e.value}),s.value="")};return(o,i)=>(r(),a("form",{class:"form-container",onSubmit:W(l,["prevent"])},[c("div",ve,[q(c("input",{"onUpdate:modelValue":i[0]||(i[0]=d=>s.value=d),type:"text"},null,512),[[R,s.value]]),_(_e,{modelValue:e.value,"onUpdate:modelValue":i[1]||(i[1]=d=>e.value=d)},null,8,["modelValue"])]),_(X,null,{default:P(()=>i[2]||(i[2]=[D("追加",-1)])),_:1,__:[2]})],32))}}),fe=f(ke,[["__scopeId","data-v-7989449d"]]),ye={class:"keyword-item"},ge={class:"keyword-text"},we={class:"keyword-count"},Ce=["title"],xe=w({__name:"KeywordChip",props:{word:{},color:{},count:{}},emits:["delete"],setup(u,{emit:n}){const s=n,e=t=>{s("delete",t)};return(t,l)=>(r(),a("li",ye,[c("span",{class:"keyword-color-chip",style:B({backgroundColor:t.color})},null,4),c("span",ge,M(t.word),1),c("span",we,M(t.count),1),c("button",{class:"delete-button",onClick:l[0]||(l[0]=o=>e(t.word)),title:`'${t.word}'を削除`},[_(C(se),{size:16})],8,Ce)]))}}),$e=f(xe,[["__scopeId","data-v-8ca2db07"]]),be={class:"keywords-container"},Ae={key:0,class:"keywords-list"},Ie={key:1,class:"no-keywords"},Ve=w({__name:"HighlightKeywords",props:{keywords:{}},emits:["delete"],setup(u,{emit:n}){const s=u,e=n,t=$(()=>Object.keys(s.keywords).length>0),l=o=>{e("delete",o)};return(o,i)=>(r(),a("div",be,[t.value?(r(),a("ul",Ae,[(r(!0),a(V,null,N(o.keywords,d=>(r(),z($e,{key:d.text,word:d.text,color:d.color??"",count:d.count,onDelete:l},null,8,["word","color","count"]))),128))])):(r(),a("p",Ie,"ハイライト中の単語はありません。"))]))}}),Te=f(Ve,[["__scopeId","data-v-ca16e5cc"]]),Fe={class:"options"},Me={class:"content"},De=w({__name:"AccordionComponent",setup(u){const n=g(!1),s=()=>{n.value=!n.value};return(e,t)=>(r(),a("div",null,[c("div",{class:"accordion-container",onClick:s},[c("p",Fe,[_(C(ee),{class:L({rotated:n.value}),size:20},null,8,["class"]),t[0]||(t[0]=D(" Options ",-1)),t[1]||(t[1]=c("span",{class:"line"},null,-1))])]),c("div",Me,[n.value?j(e.$slots,"default",{key:0},void 0):O("",!0)])]))}}),He=f(De,[["__scopeId","data-v-a23ca793"]]),Ee={class:"container"},Be={key:0,class:"tooltip-content"},Se=["value"],Ue=w({__name:"DelimiterInput",emits:["update:delimiters"],setup(u,{emit:n}){const s=g(""),e=g(!1),t=g(null),l=n,o=x=>{const h=x.target;s.value=h.value;const m=s.value.split(/\s+/).filter(Boolean);l("update:delimiters",m)},i=()=>{e.value=!e.value},d=x=>{t.value&&!t.value.contains(x.target)&&(e.value=!1)};return Y(()=>{document.addEventListener("click",d,!0)}),Q(()=>{document.removeEventListener("click",d,!0)}),(x,h)=>(r(),a("div",Ee,[h[1]||(h[1]=c("label",{for:"delimiters"},"区切り文字",-1)),c("div",{class:"tooltip-container",ref_key:"tooltipContainer",ref:t},[_(C(te),{class:"tooltip-trigger",size:20,"stroke-width":1.5,onClick:W(i,["stop"])}),e.value?(r(),a("div",Be,h[0]||(h[0]=[D(" 区切り文字として入力された文字以降、その行はハイライトされません。",-1),c("br",null,null,-1),D(" 複数の区切り文字を入力したい場合、半角スペースで区切って入力します。 ",-1)]))):O("",!0)],512),c("input",{type:"text",id:"delimiters",value:s.value,onInput:o,placeholder:"例: ： 「"},null,40,Se)]))}}),Le=f(Ue,[["__scopeId","data-v-e8b70831"]]),ze={class:"contents-container"},Ke=w({__name:"AccordionContents",emits:["update:delimiters"],setup(u,{emit:n}){const s=n,e=t=>{s("update:delimiters",t)};return(t,l)=>(r(),a("div",ze,[_(Le,{"onUpdate:delimiters":e})]))}}),Ne=f(Ke,[["__scopeId","data-v-5c9bb8de"]]),Oe={class:"card-container"},Pe={class:"action-area"},je=w({__name:"ActionArea",props:{keywords:{}},emits:["add","delete","update:delimiters"],setup(u,{emit:n}){const s=n,e=o=>{s("add",o)},t=o=>{s("delete",o)},l=o=>{s("update:delimiters",o)};return(o,i)=>(r(),a("div",Oe,[c("div",Pe,[_(fe,{class:"form-area",onAdd:e}),_(Te,{class:"words-area",keywords:o.keywords,onDelete:t},null,8,["keywords"])]),_(He,{class:"accordion"},{default:P(()=>[_(Ne,{"onUpdate:delimiters":l})]),_:1})]))}}),We=f(je,[["__scopeId","data-v-8c68d9eb"]]),qe=(u,n,s)=>{const e=$(()=>{const l=u.value,o=n.value,i=s.value,d=Object.keys(o);if(!l)return[];if(d.length===0)return[{text:l,color:void 0,count:0}];const h=d.map(y=>y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),m=new RegExp(h,"g"),p={};d.forEach(y=>{p[y]=0});const b=l.match(m);b&&b.forEach(y=>{p[y]!==void 0&&p[y]++});const v=[],H=l.split(`
`);for(let y=0;y<H.length;y++){const E=H[y];let T=E,S="";if(i.length>0){let k=-1;for(const I of i){if(!I)continue;const U=E.indexOf(I);U!==-1&&(k===-1||U<k)&&(k=U)}k!==-1&&(T=E.substring(0,k),S=E.substring(k))}let F=0;T.replace(m,(k,I)=>(I>F&&v.push({text:T.slice(F,I),color:void 0,count:0}),v.push({text:k,color:o[k],count:p[k]??0}),F=I+k.length,k)),F<T.length&&v.push({text:T.slice(F),color:void 0,count:0}),S&&v.push({text:S,color:void 0,count:0}),y<H.length-1&&v.push({text:`
`,color:void 0,count:0})}return v}),t=$(()=>Object.keys(n.value).map(o=>e.value.find(i=>i.text===o&&i.color!==void 0)).filter(o=>o!==void 0).map(o=>({text:o.text,color:o.color,count:o.count})));return{highlightedParts:e,highlightedTokens:t}},Re=`モブA：これは vd-pad のサンプルテキストです。

モブB：指定したテキストには色がつきます。
例えば、キャラクターの名前を入力すれば、誰のセリフかをひと目で判断できます。

モブC：台本や読み合わせ用のテキストを、自由に貼り付けて使ってください。

モブD：試しに、左上のテキストボックスに「モブD」と入力して、私の名前をハイライトしてみてください！

モブA：このテキストは削除しても問題ありません。
便利に使ってもらえたら嬉しいです！
`,Ye={モブA:"#A076F9",モブB:"#F5A623",モブC:"#F778A1"},Qe={class:"scroll-text"},Xe=w({__name:"ScrollProgressBtn",setup(u){const n=g(0);function s(){const t=window.scrollY||window.pageYOffset,l=document.documentElement.scrollHeight-window.innerHeight;n.value=l>0?Math.round(t/l*100):0}Y(()=>{s(),window.addEventListener("scroll",s)}),Q(()=>{window.removeEventListener("scroll",s)});function e(){window.scrollTo({top:0,behavior:"smooth"})}return(t,l)=>(r(),a("div",{class:"scroll-progress",onClick:e},[_(C(J),{size:16,class:"scroll-icon"}),c("span",Qe,M(n.value)+"%",1)]))}}),Ge=f(Xe,[["__scopeId","data-v-9e0c2077"]]),Je={class:"container"},Ze={class:"text-container"},et={class:"input-container"},tt={class:"highlight-text-area"},ot=w({__name:"TextHighlighterView",setup(u){const n=g(Re),s=g(Ye),e=g([]),t=m=>{s.value[m.word]=m.color},l=m=>{delete s.value[m]},o=m=>{e.value=m},i=()=>{window.confirm("テキストをすべてクリアしますか？")&&(n.value="")},d=$(()=>n.value===""),{highlightedParts:x,highlightedTokens:h}=qe(n,s,e);return(m,p)=>(r(),a(V,null,[c("div",Je,[_(We,{keywords:C(h),onAdd:t,onDelete:l,"onUpdate:delimiters":o},null,8,["keywords"]),c("div",Ze,[c("div",et,[q(c("textarea",{"onUpdate:modelValue":p[0]||(p[0]=b=>n.value=b),rows:"6",placeholder:"原文を入力…"},null,512),[[R,n.value]]),_(X,{onClick:i,class:"clear-btn",disabled:d.value},{default:P(()=>[_(C(ne),{size:16}),p[1]||(p[1]=c("p",null,"テキストをクリア",-1))]),_:1,__:[1]},8,["disabled"])]),c("div",tt,[_(ce,{parts:C(x)},null,8,["parts"])])])]),_(Ge)],64))}}),nt=f(ot,[["__scopeId","data-v-45bdd87d"]]);export{nt as default};
