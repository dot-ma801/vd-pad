import{c as F,d as _,a as d,F as g,r as I,n as f,t as x,b as D,o as n,_ as h,e as v,u as S,f as w,g as u,h as C,i as A,j as $,k as j,w as E,l as H,m as y,v as T}from"./index-BnaqTtlu.js";/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=F("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=F("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=F("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),z={class:"highlighted-text"},B=_({__name:"HighlightedText",props:{parts:{type:Array,required:!0}},setup(c){return(a,s)=>(n(),d("div",z,[(n(!0),d(g,null,I(c.parts,(t,o)=>(n(),d(g,{key:o},[t.color?(n(),d("span",{key:0,style:f({color:t.color,fontWeight:"bold"})},x(t.text),5)):(n(),d(g,{key:1},[D(x(t.text),1)],64))],64))),128))]))}}),P=h(B,[["__scopeId","data-v-dfbbde51"]]),V=["#7ED321","#A076F9","#F5A623","#F778A1","#3399BB"],U=c=>v(()=>{const t=c.value;if(!/^#[0-9a-fA-F]{6}$/.test(t))return"#000000";const o=parseInt(t.slice(1,3),16),r=parseInt(t.slice(3,5),16),e=parseInt(t.slice(5,7),16);return .2126*o+.7152*r+.0722*e>128?"#000000":"#FFFFFF"}),O={class:"color-selector-container"},q=["onClick"],G=["value"],J=_({__name:"ColorSelector",props:{modelValue:{}},emits:["update:modelValue"],setup(c,{emit:a}){const s=c,t=a;S();const o=w(null),r=v(()=>!V.includes(s.modelValue)),e=v(()=>r.value?s.modelValue:"#ffffff"),l=U(e),i=v(()=>r.value?l.value:"#000"),p=m=>{t("update:modelValue",m)},M=()=>{o.value?.click()},N=m=>{const b=m.target;t("update:modelValue",b.value)};return(m,b)=>(n(),d("div",O,[(n(!0),d(g,null,I(C(V),k=>(n(),d("div",{key:k,class:A(["color-marker",{"is-active":m.modelValue===k}]),style:f({backgroundColor:k}),onClick:ye=>p(k)},[m.modelValue===k?(n(),$(C(K),{key:0,size:16,color:"#FFF"})):j("",!0)],14,q))),128)),u("div",{class:A(["color-marker custom-color-marker",{"is-active":r.value}]),style:f({backgroundColor:e.value}),onClick:M},[(n(),$(C(L),{key:i.value,size:20,color:i.value},null,8,["color"])),u("input",{ref_key:"colorInput",ref:o,type:"color",value:e.value,class:"color-input",onChange:N},null,40,G)],6)]))}}),Q=h(J,[["__scopeId","data-v-78ad8449"]]),X={class:"input-area"},Y=_({__name:"WordColorForm",emits:["add"],setup(c,{emit:a}){const s=w(""),t=w(V[0]),o=a,r=()=>{const e=s.value.trim();e&&(o("add",{word:e,color:t.value}),s.value="")};return(e,l)=>(n(),d("form",{class:"form-container",onSubmit:E(r,["prevent"])},[u("div",X,[H(u("input",{"onUpdate:modelValue":l[0]||(l[0]=i=>s.value=i),type:"text"},null,512),[[T,s.value]]),y(Q,{modelValue:t.value,"onUpdate:modelValue":l[1]||(l[1]=i=>t.value=i)},null,8,["modelValue"])]),l[2]||(l[2]=u("button",null,"追加",-1))],32))}}),Z=h(Y,[["__scopeId","data-v-0e167e07"]]),R={class:"keyword-item"},ee={class:"keyword-text"},te=["title"],oe=_({__name:"KeywordChip",props:{word:{},color:{}},emits:["delete"],setup(c,{emit:a}){const s=a,t=o=>{s("delete",o)};return(o,r)=>(n(),d("li",R,[u("span",{class:"keyword-color-chip",style:f({backgroundColor:o.color})},null,4),u("span",ee,x(o.word),1),u("button",{class:"delete-button",onClick:r[0]||(r[0]=e=>t(o.word)),title:`'${o.word}'を削除`},[y(C(W),{size:16})],8,te)]))}}),se=h(oe,[["__scopeId","data-v-3f8da6f9"]]),re={class:"keywords-container"},le={key:0,class:"keywords-list"},ne={key:1,class:"no-keywords"},ae=_({__name:"HighlightKeywords",props:{keywords:{}},emits:["delete"],setup(c,{emit:a}){const s=c,t=a,o=v(()=>Object.keys(s.keywords).length>0),r=e=>{t("delete",e)};return(e,l)=>(n(),d("div",re,[o.value?(n(),d("ul",le,[(n(!0),d(g,null,I(e.keywords,(i,p)=>(n(),$(se,{key:p,word:p,color:i,onDelete:r},null,8,["word","color"]))),128))])):(n(),d("p",ne,"ハイライト中の単語はありません。"))]))}}),ce=h(ae,[["__scopeId","data-v-6e293017"]]),ie={class:"action-area"},de=_({__name:"ActionArea",props:{keywords:{}},emits:["add","delete"],setup(c,{emit:a}){const s=a,t=r=>{s("add",r)},o=r=>{s("delete",r)};return(r,e)=>(n(),d("div",ie,[y(Z,{class:"form-area",onAdd:t}),y(ce,{class:"words-area",keywords:r.keywords,onDelete:o},null,8,["keywords"])]))}}),ue=h(de,[["__scopeId","data-v-5d29da39"]]),pe=(c,a)=>{const s=()=>{const o=Object.keys(a.value);if(o.length===0)return[{text:c.value}];const r=new RegExp(o.map(i=>i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),"g"),e=[];let l=0;return c.value.replace(r,(i,p)=>(p>l&&e.push({text:c.value.slice(l,p)}),e.push({text:i,color:a.value[i]}),l=p+i.length,i)),l<c.value.length&&e.push({text:c.value.slice(l)}),e};return{highlightedParts:v(()=>s())}},_e={class:"container"},he={class:"text-container"},me={class:"highlight-text-area"},ve=_({__name:"TextHighlighterView",setup(c){const a=w(""),s=w({}),t=e=>{s.value[e.word]=e.color},o=e=>{delete s.value[e]},{highlightedParts:r}=pe(a,s);return(e,l)=>(n(),d("div",_e,[y(ue,{keywords:s.value,onAdd:t,onDelete:o},null,8,["keywords"]),u("div",he,[H(u("textarea",{"onUpdate:modelValue":l[0]||(l[0]=i=>a.value=i),rows:"6",placeholder:"原文を入力…"},null,512),[[T,a.value]]),u("div",me,[y(P,{parts:C(r)},null,8,["parts"])])])]))}}),ge=h(ve,[["__scopeId","data-v-b197002a"]]);export{ge as default};
