import{c as A,d as f,a as c,F as V,r as E,n as F,t as D,b as M,o as l,_ as g,e as I,u as B,f as y,g as i,h as x,i as H,j as U,k as L,w as N,l as z,m as v,v as j,p as K,q as O,s as W,x as P}from"./index-Bxdzrpye.js";/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=A("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=A("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=A("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=A("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=A("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),X={class:"highlighted-text"},Y=f({__name:"HighlightedText",props:{parts:{type:Array,required:!0}},setup(p){return(n,o)=>(l(),c("div",X,[(l(!0),c(V,null,E(p.parts,(t,e)=>(l(),c(V,{key:e},[t.color?(l(),c("span",{key:0,style:F({color:t.color,fontWeight:"bold"})},D(t.text),5)):(l(),c(V,{key:1},[M(D(t.text),1)],64))],64))),128))]))}}),Z=g(Y,[["__scopeId","data-v-dfbbde51"]]),S=["#7ED321","#A076F9","#F5A623","#F778A1","#3399BB"],ee=p=>I(()=>{const t=p.value;if(!/^#[0-9a-fA-F]{6}$/.test(t))return"#000000";const e=parseInt(t.slice(1,3),16),r=parseInt(t.slice(3,5),16),s=parseInt(t.slice(5,7),16);return .2126*e+.7152*r+.0722*s>128?"#000000":"#FFFFFF"}),te={class:"color-selector-container"},oe=["onClick"],se=["value"],ne=f({__name:"ColorSelector",props:{modelValue:{}},emits:["update:modelValue"],setup(p,{emit:n}){const o=p,t=n;B();const e=y(null),r=I(()=>!S.includes(o.modelValue)),s=I(()=>r.value?o.modelValue:"#ffffff"),u=ee(s),a=I(()=>r.value?u.value:"#000"),d=m=>{t("update:modelValue",m)},_=()=>{e.value?.click()},k=m=>{const C=m.target;t("update:modelValue",C.value)};return(m,C)=>(l(),c("div",te,[(l(!0),c(V,null,E(x(S),w=>(l(),c("div",{key:w,class:H(["color-marker",{"is-active":m.modelValue===w}]),style:F({backgroundColor:w}),onClick:$=>d(w)},[m.modelValue===w?(l(),U(x(q),{key:0,size:16,color:"#FFF"})):L("",!0)],14,oe))),128)),i("div",{class:H(["color-marker custom-color-marker",{"is-active":r.value}]),style:F({backgroundColor:s.value}),onClick:_},[(l(),U(x(G),{key:a.value,size:20,color:a.value},null,8,["color"])),i("input",{ref_key:"colorInput",ref:e,type:"color",value:s.value,class:"color-input",onChange:k},null,40,se)],6)]))}}),le=g(ne,[["__scopeId","data-v-78ad8449"]]),re={class:"input-area"},ae=f({__name:"WordColorForm",emits:["add"],setup(p,{emit:n}){const o=y(""),t=y(S[0]),e=n,r=()=>{const s=o.value.trim();s&&(e("add",{word:s,color:t.value}),o.value="")};return(s,u)=>(l(),c("form",{class:"form-container",onSubmit:N(r,["prevent"])},[i("div",re,[z(i("input",{"onUpdate:modelValue":u[0]||(u[0]=a=>o.value=a),type:"text"},null,512),[[j,o.value]]),v(le,{modelValue:t.value,"onUpdate:modelValue":u[1]||(u[1]=a=>t.value=a)},null,8,["modelValue"])]),u[2]||(u[2]=i("button",null,"追加",-1))],32))}}),ce=g(ae,[["__scopeId","data-v-0e167e07"]]),ie={class:"keyword-item"},de={class:"keyword-text"},ue=["title"],pe=f({__name:"KeywordChip",props:{word:{},color:{}},emits:["delete"],setup(p,{emit:n}){const o=n,t=e=>{o("delete",e)};return(e,r)=>(l(),c("li",ie,[i("span",{class:"keyword-color-chip",style:F({backgroundColor:e.color})},null,4),i("span",de,D(e.word),1),i("button",{class:"delete-button",onClick:r[0]||(r[0]=s=>t(e.word)),title:`'${e.word}'を削除`},[v(x(J),{size:16})],8,ue)]))}}),_e=g(pe,[["__scopeId","data-v-3f8da6f9"]]),me={class:"keywords-container"},he={key:0,class:"keywords-list"},ve={key:1,class:"no-keywords"},ke=f({__name:"HighlightKeywords",props:{keywords:{}},emits:["delete"],setup(p,{emit:n}){const o=p,t=n,e=I(()=>Object.keys(o.keywords).length>0),r=s=>{t("delete",s)};return(s,u)=>(l(),c("div",me,[e.value?(l(),c("ul",he,[(l(!0),c(V,null,E(s.keywords,(a,d)=>(l(),U(_e,{key:d,word:d,color:a,onDelete:r},null,8,["word","color"]))),128))])):(l(),c("p",ve,"ハイライト中の単語はありません。"))]))}}),ye=g(ke,[["__scopeId","data-v-6e293017"]]),fe={class:"options"},ge={class:"content"},Ce=f({__name:"AccordionComponent",setup(p){const n=y(!1),o=()=>{n.value=!n.value};return(t,e)=>(l(),c("div",null,[i("div",{class:"accordion-container",onClick:o},[i("p",fe,[v(x(R),{class:H({rotated:n.value}),size:20},null,8,["class"]),e[0]||(e[0]=M(" Options ",-1)),e[1]||(e[1]=i("span",{class:"line"},null,-1))])]),i("div",ge,[n.value?K(t.$slots,"default",{key:0},void 0):L("",!0)])]))}}),we=g(Ce,[["__scopeId","data-v-b94f3376"]]),xe={class:"container"},$e={key:0,class:"tooltip-content"},be=["value"],Ie=f({__name:"DelimiterInput",emits:["update:delimiters"],setup(p,{emit:n}){const o=y(""),t=y(!1),e=y(null),r=n,s=d=>{const _=d.target;o.value=_.value;const k=o.value.split(/\s+/).filter(Boolean);r("update:delimiters",k)},u=()=>{t.value=!t.value},a=d=>{e.value&&!e.value.contains(d.target)&&(t.value=!1)};return O(()=>{document.addEventListener("click",a,!0)}),W(()=>{document.removeEventListener("click",a,!0)}),(d,_)=>(l(),c("div",xe,[_[1]||(_[1]=i("label",{for:"delimiters"},"区切り文字",-1)),i("div",{class:"tooltip-container",ref_key:"tooltipContainer",ref:e},[v(x(Q),{class:"tooltip-trigger",size:20,"stroke-width":1.5,onClick:N(u,["stop"])}),t.value?(l(),c("div",$e,_[0]||(_[0]=[M(" 区切り文字として入力された文字以降、その行はハイライトされません。",-1),i("br",null,null,-1),M(" 複数の区切り文字を入力したい場合、半角スペースで区切って入力します。 ",-1)]))):L("",!0)],512),i("input",{type:"text",id:"delimiters",value:o.value,onInput:s,placeholder:"例: ： 「"},null,40,be)]))}}),Ve=g(Ie,[["__scopeId","data-v-a15e465a"]]),Ae={class:"contents-container"},Fe=f({__name:"AccordionContents",emits:["update:delimiters"],setup(p,{emit:n}){const o=n,t=e=>{o("update:delimiters",e)};return(e,r)=>(l(),c("div",Ae,[v(Ve,{"onUpdate:delimiters":t})]))}}),Me=g(Fe,[["__scopeId","data-v-5c9bb8de"]]),Te={class:"card-container"},De={class:"action-area"},He=f({__name:"ActionArea",props:{keywords:{}},emits:["add","delete","update:delimiters"],setup(p,{emit:n}){const o=n,t=s=>{o("add",s)},e=s=>{o("delete",s)},r=s=>{o("update:delimiters",s)};return(s,u)=>(l(),c("div",Te,[i("div",De,[v(ce,{class:"form-area",onAdd:t}),v(ye,{class:"words-area",keywords:s.keywords,onDelete:e},null,8,["keywords"])]),v(we,{class:"accordion"},{default:P(()=>[v(Me,{"onUpdate:delimiters":r})]),_:1})]))}}),Ue=g(He,[["__scopeId","data-v-1000e3a1"]]),Se=(p,n,o)=>({highlightedParts:I(()=>{const e=p.value,r=n.value,s=o.value,u=Object.keys(r);if(!e)return[];if(u.length===0)return[{text:e,color:void 0}];const a=new RegExp(u.map(k=>k.replace(/[.*+?^${}()|[\\]/g,"\\$&")).join("|"),"g"),d=[],_=e.split(`
`);for(let k=0;k<_.length;k++){const m=_[k];let C=m,w="";if(s&&s.length>0){let h=-1;for(const b of s){if(!b)continue;const T=m.indexOf(b);T!==-1&&(h===-1||T<h)&&(h=T)}h!==-1&&(C=m.substring(0,h),w=m.substring(h))}let $=0;C&&(C.replace(a,(h,b)=>(b>$&&d.push({text:C.slice($,b),color:void 0}),d.push({text:h,color:r[h]}),$=b+h.length,h)),$<C.length&&d.push({text:C.slice($),color:void 0})),w&&d.push({text:w,color:void 0}),k<_.length-1&&d.push({text:`
`,color:void 0})}return d})}),Ee={class:"container"},Le={class:"text-container"},Ne={class:"highlight-text-area"},ze=f({__name:"TextHighlighterView",setup(p){const n=y(""),o=y({}),t=y([]),e=a=>{o.value[a.word]=a.color},r=a=>{delete o.value[a]},s=a=>{t.value=a},{highlightedParts:u}=Se(n,o,t);return(a,d)=>(l(),c("div",Ee,[v(Ue,{keywords:o.value,onAdd:e,onDelete:r,"onUpdate:delimiters":s},null,8,["keywords"]),i("div",Le,[z(i("textarea",{"onUpdate:modelValue":d[0]||(d[0]=_=>n.value=_),rows:"6",placeholder:"原文を入力…"},null,512),[[j,n.value]]),i("div",Ne,[v(Z,{parts:x(u)},null,8,["parts"])])])]))}}),Be=g(ze,[["__scopeId","data-v-345bb6fb"]]);export{Be as default};
