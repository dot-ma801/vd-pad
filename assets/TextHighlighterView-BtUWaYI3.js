import{c as I,d as g,a,F as V,r as S,n as D,t as T,b as F,o as l,_ as f,e as $,u as P,f as y,g as c,h as x,i as H,j as B,k as z,l as L,w as N,m as v,p as j,v as K,q as E,s as W,x as q}from"./index-CtpTIofu.js";/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=I("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=I("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=I("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=I("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=I("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=I("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Z={class:"highlighted-text"},ee=g({__name:"HighlightedText",props:{parts:{type:Array,required:!0}},setup(d){return(n,o)=>(l(),a("div",Z,[(l(!0),a(V,null,S(d.parts,(t,e)=>(l(),a(V,{key:e},[t.color?(l(),a("span",{key:0,style:D({color:t.color,fontWeight:"bold"})},T(t.text),5)):(l(),a(V,{key:1},[F(T(t.text),1)],64))],64))),128))]))}}),te=f(ee,[["__scopeId","data-v-dfbbde51"]]),U=["#7ED321","#A076F9","#F5A623","#F778A1","#3399BB"],oe=d=>$(()=>{const t=d.value;if(!/^#[0-9a-fA-F]{6}$/.test(t))return"#000000";const e=parseInt(t.slice(1,3),16),r=parseInt(t.slice(3,5),16),s=parseInt(t.slice(5,7),16);return .2126*e+.7152*r+.0722*s>128?"#000000":"#FFFFFF"}),se={class:"color-selector-container"},ne=["onClick"],le=["value"],re=g({__name:"ColorSelector",props:{modelValue:{}},emits:["update:modelValue"],setup(d,{emit:n}){const o=d,t=n;P();const e=y(null),r=$(()=>!U.includes(o.modelValue)),s=$(()=>r.value?o.modelValue:"#ffffff"),u=oe(s),_=$(()=>r.value?u.value:"#000"),p=h=>{t("update:modelValue",h)},i=()=>{e.value?.click()},m=h=>{const C=h.target;t("update:modelValue",C.value)};return(h,C)=>(l(),a("div",se,[(l(!0),a(V,null,S(x(U),w=>(l(),a("div",{key:w,class:H(["color-marker",{"is-active":h.modelValue===w}]),style:D({backgroundColor:w}),onClick:b=>p(w)},[h.modelValue===w?(l(),B(x(R),{key:0,size:16,color:"#FFF"})):z("",!0)],14,ne))),128)),c("div",{class:H(["color-marker custom-color-marker",{"is-active":r.value}]),style:D({backgroundColor:s.value}),onClick:i},[(l(),B(x(G),{key:_.value,size:20,color:_.value},null,8,["color"])),c("input",{ref_key:"colorInput",ref:e,type:"color",value:s.value,class:"color-input",onChange:m},null,40,le)],6)]))}}),ae=f(re,[["__scopeId","data-v-78ad8449"]]),ce={};function ie(d,n){return l(),a("button",null,[L(d.$slots,"default",{},void 0)])}const O=f(ce,[["render",ie],["__scopeId","data-v-c87cc585"]]),de={class:"input-area"},ue=g({__name:"WordColorForm",emits:["add"],setup(d,{emit:n}){const o=y(""),t=y(U[0]),e=n,r=()=>{const s=o.value.trim();s&&(e("add",{word:s,color:t.value}),o.value="")};return(s,u)=>(l(),a("form",{class:"form-container",onSubmit:N(r,["prevent"])},[c("div",de,[j(c("input",{"onUpdate:modelValue":u[0]||(u[0]=_=>o.value=_),type:"text"},null,512),[[K,o.value]]),v(ae,{modelValue:t.value,"onUpdate:modelValue":u[1]||(u[1]=_=>t.value=_)},null,8,["modelValue"])]),v(O,null,{default:E(()=>u[2]||(u[2]=[F("追加",-1)])),_:1,__:[2]})],32))}}),pe=f(ue,[["__scopeId","data-v-7989449d"]]),_e={class:"keyword-item"},me={class:"keyword-text"},ve=["title"],he=g({__name:"KeywordChip",props:{word:{},color:{}},emits:["delete"],setup(d,{emit:n}){const o=n,t=e=>{o("delete",e)};return(e,r)=>(l(),a("li",_e,[c("span",{class:"keyword-color-chip",style:D({backgroundColor:e.color})},null,4),c("span",me,T(e.word),1),c("button",{class:"delete-button",onClick:r[0]||(r[0]=s=>t(e.word)),title:`'${e.word}'を削除`},[v(x(J),{size:16})],8,ve)]))}}),ke=f(he,[["__scopeId","data-v-c3a5a580"]]),fe={class:"keywords-container"},ye={key:0,class:"keywords-list"},ge={key:1,class:"no-keywords"},Ce=g({__name:"HighlightKeywords",props:{keywords:{}},emits:["delete"],setup(d,{emit:n}){const o=d,t=n,e=$(()=>Object.keys(o.keywords).length>0),r=s=>{t("delete",s)};return(s,u)=>(l(),a("div",fe,[e.value?(l(),a("ul",ye,[(l(!0),a(V,null,S(s.keywords,(_,p)=>(l(),B(ke,{key:p,word:p,color:_,onDelete:r},null,8,["word","color"]))),128))])):(l(),a("p",ge,"ハイライト中の単語はありません。"))]))}}),we=f(Ce,[["__scopeId","data-v-e9062aa4"]]),xe={class:"options"},$e={class:"content"},be=g({__name:"AccordionComponent",setup(d){const n=y(!1),o=()=>{n.value=!n.value};return(t,e)=>(l(),a("div",null,[c("div",{class:"accordion-container",onClick:o},[c("p",xe,[v(x(Q),{class:H({rotated:n.value}),size:20},null,8,["class"]),e[0]||(e[0]=F(" Options ",-1)),e[1]||(e[1]=c("span",{class:"line"},null,-1))])]),c("div",$e,[n.value?L(t.$slots,"default",{key:0},void 0):z("",!0)])]))}}),Ae=f(be,[["__scopeId","data-v-a23ca793"]]),Ie={class:"container"},Ve={key:0,class:"tooltip-content"},Fe=["value"],De=g({__name:"DelimiterInput",emits:["update:delimiters"],setup(d,{emit:n}){const o=y(""),t=y(!1),e=y(null),r=n,s=p=>{const i=p.target;o.value=i.value;const m=o.value.split(/\s+/).filter(Boolean);r("update:delimiters",m)},u=()=>{t.value=!t.value},_=p=>{e.value&&!e.value.contains(p.target)&&(t.value=!1)};return W(()=>{document.addEventListener("click",_,!0)}),q(()=>{document.removeEventListener("click",_,!0)}),(p,i)=>(l(),a("div",Ie,[i[1]||(i[1]=c("label",{for:"delimiters"},"区切り文字",-1)),c("div",{class:"tooltip-container",ref_key:"tooltipContainer",ref:e},[v(x(X),{class:"tooltip-trigger",size:20,"stroke-width":1.5,onClick:N(u,["stop"])}),t.value?(l(),a("div",Ve,i[0]||(i[0]=[F(" 区切り文字として入力された文字以降、その行はハイライトされません。",-1),c("br",null,null,-1),F(" 複数の区切り文字を入力したい場合、半角スペースで区切って入力します。 ",-1)]))):z("",!0)],512),c("input",{type:"text",id:"delimiters",value:o.value,onInput:s,placeholder:"例: ： 「"},null,40,Fe)]))}}),Me=f(De,[["__scopeId","data-v-e8b70831"]]),Te={class:"contents-container"},He=g({__name:"AccordionContents",emits:["update:delimiters"],setup(d,{emit:n}){const o=n,t=e=>{o("update:delimiters",e)};return(e,r)=>(l(),a("div",Te,[v(Me,{"onUpdate:delimiters":t})]))}}),Be=f(He,[["__scopeId","data-v-5c9bb8de"]]),Ue={class:"card-container"},Se={class:"action-area"},ze=g({__name:"ActionArea",props:{keywords:{}},emits:["add","delete","update:delimiters"],setup(d,{emit:n}){const o=n,t=s=>{o("add",s)},e=s=>{o("delete",s)},r=s=>{o("update:delimiters",s)};return(s,u)=>(l(),a("div",Ue,[c("div",Se,[v(pe,{class:"form-area",onAdd:t}),v(we,{class:"words-area",keywords:s.keywords,onDelete:e},null,8,["keywords"])]),v(Ae,{class:"accordion"},{default:E(()=>[v(Be,{"onUpdate:delimiters":r})]),_:1})]))}}),Ee=f(ze,[["__scopeId","data-v-1000e3a1"]]),Le=(d,n,o)=>({highlightedParts:$(()=>{const e=d.value,r=n.value,s=o.value,u=Object.keys(r);if(!e)return[];if(u.length===0)return[{text:e,color:void 0}];const _=new RegExp(u.map(m=>m.replace(/[.*+?^${}()|[\\]/g,"\\$&")).join("|"),"g"),p=[],i=e.split(`
`);for(let m=0;m<i.length;m++){const h=i[m];let C=h,w="";if(s&&s.length>0){let k=-1;for(const A of s){if(!A)continue;const M=h.indexOf(A);M!==-1&&(k===-1||M<k)&&(k=M)}k!==-1&&(C=h.substring(0,k),w=h.substring(k))}let b=0;C&&(C.replace(_,(k,A)=>(A>b&&p.push({text:C.slice(b,A),color:void 0}),p.push({text:k,color:r[k]}),b=A+k.length,k)),b<C.length&&p.push({text:C.slice(b),color:void 0})),w&&p.push({text:w,color:void 0}),m<i.length-1&&p.push({text:`
`,color:void 0})}return p})}),Ne=`モブA：これは vd-pad のサンプルテキストです。

モブB：指定したテキストには色がつきます。
例えば、キャラクターの名前を入力すれば、誰のセリフかをひと目で判断できます。

モブC：台本や読み合わせ用のテキストを、自由に貼り付けて使ってください。

モブD：試しに、左上のテキストボックスに「モブD」と入力して、私の名前をハイライトしてみてください！

モブA：このテキストは削除しても問題ありません。
便利に使ってもらえたら嬉しいです！
`,je={モブA:"#A076F9",モブB:"#F5A623",モブC:"#F778A1"},Ke={class:"container"},Oe={class:"text-container"},Pe={class:"input-container"},We={class:"highlight-text-area"},qe=g({__name:"TextHighlighterView",setup(d){const n=y(Ne),o=y(je),t=y([]),e=i=>{o.value[i.word]=i.color},r=i=>{delete o.value[i]},s=i=>{t.value=i},u=()=>{n.value=""},_=$(()=>n.value===""),{highlightedParts:p}=Le(n,o,t);return(i,m)=>(l(),a("div",Ke,[v(Ee,{keywords:o.value,onAdd:e,onDelete:r,"onUpdate:delimiters":s},null,8,["keywords"]),c("div",Oe,[c("div",Pe,[j(c("textarea",{"onUpdate:modelValue":m[0]||(m[0]=h=>n.value=h),rows:"6",placeholder:"原文を入力…"},null,512),[[K,n.value]]),v(O,{onClick:u,class:"clear-btn",disabled:_.value},{default:E(()=>[v(x(Y),{size:16}),m[1]||(m[1]=c("p",null,"テキストをクリア",-1))]),_:1,__:[1]},8,["disabled"])]),c("div",We,[v(te,{parts:x(p)},null,8,["parts"])])])]))}}),Qe=f(qe,[["__scopeId","data-v-ff7b56d5"]]);export{Qe as default};
