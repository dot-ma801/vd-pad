import{c as i,o as u,F as h,r as y,n as w,t as _,a as b,b as p,w as m,d as c,v,e as f,f as T,g as k,h as x,u as V,_ as H}from"./index-eT3NrVeA.js";const W={style:{"white-space":"pre-wrap"}},$={__name:"HighlightedText",props:{parts:{type:Array,required:!0}},setup(l){return(n,r)=>(u(),i("div",W,[(u(!0),i(h,null,y(l.parts,(o,a)=>(u(),i(h,{key:a},[o.color?(u(),i("span",{key:0,style:w({color:o.color,fontWeight:"bold"})},_(o.text),5)):(u(),i(h,{key:1},[b(_(o.text),1)],64))],64))),128))]))}},C={__name:"WordColorForm",emits:["add"],setup(l,{emit:n}){const r=p(""),o=p("#000000"),a=n,d=()=>{const t=r.value.trim();t&&(a("add",{word:t,color:o.value}),r.value="",o.value="#000000")};return(t,e)=>(u(),i("form",{onSubmit:f(d,["prevent"]),style:{"margin-bottom":"1rem"}},[m(c("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>r.value=s),placeholder:"名前（例：太郎）"},null,512),[[v,r.value]]),m(c("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.value=s),type:"color"},null,512),[[v,o.value]]),e[2]||(e[2]=c("button",null,"追加",-1))],32))}},N=(l,n)=>{const r=()=>{const a=Object.keys(n.value);if(a.length===0)return[{text:l.value}];const d=new RegExp(a.map(s=>s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),"g"),t=[];let e=0;return l.value.replace(d,(s,g)=>(g>e&&t.push({text:l.value.slice(e,g)}),t.push({text:s,color:n.value[s]}),e=g+s.length,s)),e<l.value.length&&t.push({text:l.value.slice(e)}),t};return{highlightedParts:T(()=>r())}},P={class:"container"},B={class:"highlight-text-area"},F=k({__name:"TextHighlighter",setup(l){const n=p(""),r=p({}),o=({word:d,color:t})=>{r.value[d]=t},{highlightedParts:a}=N(n,r);return(d,t)=>(u(),i("div",null,[x(C,{onAdd:o}),c("div",P,[m(c("textarea",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),rows:"6"},null,512),[[v,n.value]]),c("div",B,[x($,{parts:V(a)},null,8,["parts"])])])]))}}),U=H(F,[["__scopeId","data-v-b2ab05f0"]]);export{U as default};
