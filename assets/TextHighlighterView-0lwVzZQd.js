import{c as I,d as C,a as d,F as A,r as L,n as F,t as H,b as M,o as l,_ as w,e as V,u as B,f as y,g as c,h as x,i as D,j as S,k as N,w as U,l as z,m as k,v as j,p as K,q as O,s as W,x as P}from"./index-B8Be1szF.js";/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=I("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=I("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=I("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=I("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=I("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),X={class:"highlighted-text"},Y=C({__name:"HighlightedText",props:{parts:{type:Array,required:!0}},setup(p){return(n,o)=>(l(),d("div",X,[(l(!0),d(A,null,L(p.parts,(t,e)=>(l(),d(A,{key:e},[t.color?(l(),d("span",{key:0,style:F({color:t.color,fontWeight:"bold"})},H(t.text),5)):(l(),d(A,{key:1},[M(H(t.text),1)],64))],64))),128))]))}}),Z=w(Y,[["__scopeId","data-v-dfbbde51"]]),E=["#7ED321","#A076F9","#F5A623","#F778A1","#3399BB"],ee=p=>V(()=>{const t=p.value;if(!/^#[0-9a-fA-F]{6}$/.test(t))return"#000000";const e=parseInt(t.slice(1,3),16),r=parseInt(t.slice(3,5),16),s=parseInt(t.slice(5,7),16);return .2126*e+.7152*r+.0722*s>128?"#000000":"#FFFFFF"}),te={class:"color-selector-container"},oe=["onClick"],se=["value"],ne=C({__name:"ColorSelector",props:{modelValue:{}},emits:["update:modelValue"],setup(p,{emit:n}){const o=p,t=n;B();const e=y(null),r=V(()=>!E.includes(o.modelValue)),s=V(()=>r.value?o.modelValue:"#ffffff"),u=ee(s),a=V(()=>r.value?u.value:"#000"),i=m=>{t("update:modelValue",m)},_=()=>{e.value?.click()},v=m=>{const f=m.target;t("update:modelValue",f.value)};return(m,f)=>(l(),d("div",te,[(l(!0),d(A,null,L(x(E),g=>(l(),d("div",{key:g,class:D(["color-marker",{"is-active":m.modelValue===g}]),style:F({backgroundColor:g}),onClick:$=>i(g)},[m.modelValue===g?(l(),S(x(q),{key:0,size:16,color:"#FFF"})):N("",!0)],14,oe))),128)),c("div",{class:D(["color-marker custom-color-marker",{"is-active":r.value}]),style:F({backgroundColor:s.value}),onClick:_},[(l(),S(x(G),{key:a.value,size:20,color:a.value},null,8,["color"])),c("input",{ref_key:"colorInput",ref:e,type:"color",value:s.value,class:"color-input",onChange:v},null,40,se)],6)]))}}),le=w(ne,[["__scopeId","data-v-78ad8449"]]),re={class:"input-area"},ae=C({__name:"WordColorForm",emits:["add"],setup(p,{emit:n}){const o=y(""),t=y(E[0]),e=n,r=()=>{const s=o.value.trim();s&&(e("add",{word:s,color:t.value}),o.value="")};return(s,u)=>(l(),d("form",{class:"form-container",onSubmit:U(r,["prevent"])},[c("div",re,[z(c("input",{"onUpdate:modelValue":u[0]||(u[0]=a=>o.value=a),type:"text"},null,512),[[j,o.value]]),k(le,{modelValue:t.value,"onUpdate:modelValue":u[1]||(u[1]=a=>t.value=a)},null,8,["modelValue"])]),u[2]||(u[2]=c("button",null,"追加",-1))],32))}}),ce=w(ae,[["__scopeId","data-v-0e167e07"]]),ie={class:"keyword-item"},de={class:"keyword-text"},ue=["title"],pe=C({__name:"KeywordChip",props:{word:{},color:{}},emits:["delete"],setup(p,{emit:n}){const o=n,t=e=>{o("delete",e)};return(e,r)=>(l(),d("li",ie,[c("span",{class:"keyword-color-chip",style:F({backgroundColor:e.color})},null,4),c("span",de,H(e.word),1),c("button",{class:"delete-button",onClick:r[0]||(r[0]=s=>t(e.word)),title:`'${e.word}'を削除`},[k(x(J),{size:16})],8,ue)]))}}),_e=w(pe,[["__scopeId","data-v-3f8da6f9"]]),me={class:"keywords-container"},he={key:0,class:"keywords-list"},ve={key:1,class:"no-keywords"},ke=C({__name:"HighlightKeywords",props:{keywords:{}},emits:["delete"],setup(p,{emit:n}){const o=p,t=n,e=V(()=>Object.keys(o.keywords).length>0),r=s=>{t("delete",s)};return(s,u)=>(l(),d("div",me,[e.value?(l(),d("ul",he,[(l(!0),d(A,null,L(s.keywords,(a,i)=>(l(),S(_e,{key:i,word:i,color:a,onDelete:r},null,8,["word","color"]))),128))])):(l(),d("p",ve,"ハイライト中の単語はありません。"))]))}}),ye=w(ke,[["__scopeId","data-v-6e293017"]]),fe={class:"options"},ge={class:"content"},Ce=C({__name:"AccordionComponent",setup(p){const n=y(!1),o=()=>{n.value=!n.value};return(t,e)=>(l(),d("div",null,[c("div",{class:"accordion-container",onClick:o},[c("p",fe,[k(x(R),{class:D({rotated:n.value}),size:20},null,8,["class"]),e[0]||(e[0]=M(" Options ",-1)),e[1]||(e[1]=c("span",{class:"line"},null,-1))])]),c("div",ge,[n.value?K(t.$slots,"default",{key:0},void 0):N("",!0)])]))}}),we=w(Ce,[["__scopeId","data-v-b94f3376"]]),xe={class:"container"},$e={key:0,class:"tooltip-content"},be=["value"],Ve=C({__name:"AccordionContents",emits:["update:delimiters"],setup(p,{emit:n}){const o=y(""),t=y(!1),e=y(null),r=n,s=i=>{const _=i.target;o.value=_.value;const v=o.value.split(/\s+/).filter(Boolean);r("update:delimiters",v)},u=()=>{t.value=!t.value},a=i=>{e.value&&!e.value.contains(i.target)&&(t.value=!1)};return O(()=>{document.addEventListener("click",a,!0)}),W(()=>{document.removeEventListener("click",a,!0)}),(i,_)=>(l(),d("div",xe,[_[1]||(_[1]=c("label",{for:"delimiters"},"区切り文字",-1)),c("div",{class:"tooltip-container",ref_key:"tooltipContainer",ref:e},[k(x(Q),{class:"tooltip-trigger",size:20,"stroke-width":1.5,onClick:U(u,["stop"])}),t.value?(l(),d("div",$e,_[0]||(_[0]=[M(" 複数の区切り文字をスペースで区切って入力します。",-1),c("br",null,null,-1),M("入力された文字以降、その行はハイライトされません。 ",-1)]))):N("",!0)],512),c("input",{type:"text",id:"delimiters",value:o.value,onInput:s,placeholder:"例: ： 「"},null,40,be)]))}}),Ae=w(Ve,[["__scopeId","data-v-51ed4d25"]]),Ie={class:"card-container"},Fe={class:"action-area"},Me=C({__name:"ActionArea",props:{keywords:{}},emits:["add","delete","update:delimiters"],setup(p,{emit:n}){const o=n,t=s=>{o("add",s)},e=s=>{o("delete",s)},r=s=>{o("update:delimiters",s)};return(s,u)=>(l(),d("div",Ie,[c("div",Fe,[k(ce,{class:"form-area",onAdd:t}),k(ye,{class:"words-area",keywords:s.keywords,onDelete:e},null,8,["keywords"])]),k(we,{class:"accordion"},{default:P(()=>[k(Ae,{"onUpdate:delimiters":r})]),_:1})]))}}),Te=w(Me,[["__scopeId","data-v-1000e3a1"]]),He=(p,n,o)=>({highlightedParts:V(()=>{const e=p.value,r=n.value,s=o.value,u=Object.keys(r);if(!e)return[];if(u.length===0)return[{text:e,color:void 0}];const a=new RegExp(u.map(v=>v.replace(/[.*+?^${}()|[\\]/g,"\\$&")).join("|"),"g"),i=[],_=e.split(`
`);for(let v=0;v<_.length;v++){const m=_[v];let f=m,g="";if(s&&s.length>0){let h=-1;for(const b of s){if(!b)continue;const T=m.indexOf(b);T!==-1&&(h===-1||T<h)&&(h=T)}h!==-1&&(f=m.substring(0,h),g=m.substring(h))}let $=0;f&&(f.replace(a,(h,b)=>(b>$&&i.push({text:f.slice($,b),color:void 0}),i.push({text:h,color:r[h]}),$=b+h.length,h)),$<f.length&&i.push({text:f.slice($),color:void 0})),g&&i.push({text:g,color:void 0}),v<_.length-1&&i.push({text:`
`,color:void 0})}return i})}),De={class:"container"},Se={class:"text-container"},Ee={class:"highlight-text-area"},Le=C({__name:"TextHighlighterView",setup(p){const n=y(""),o=y({}),t=y([]),e=a=>{o.value[a.word]=a.color},r=a=>{delete o.value[a]},s=a=>{t.value=a},{highlightedParts:u}=He(n,o,t);return(a,i)=>(l(),d("div",De,[k(Te,{keywords:o.value,onAdd:e,onDelete:r,"onUpdate:delimiters":s},null,8,["keywords"]),c("div",Se,[z(c("textarea",{"onUpdate:modelValue":i[0]||(i[0]=_=>n.value=_),rows:"6",placeholder:"原文を入力…"},null,512),[[j,n.value]]),c("div",Ee,[k(Z,{parts:x(u)},null,8,["parts"])])])]))}}),Ue=w(Le,[["__scopeId","data-v-345bb6fb"]]);export{Ue as default};
